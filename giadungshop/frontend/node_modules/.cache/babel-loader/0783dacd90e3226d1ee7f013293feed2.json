{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\CHUNGKHOANNN\\\\new\\\\giadungshop\\\\frontend\\\\src\\\\components\\\\product\\\\ProductDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from 'react';\nimport { Carousel } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport Loader from '../layouts/Loader';\nimport MetaData from '../layouts/MetaData';\nimport ListReviews from './review/ListReviews';\nimport NumberFormat from 'react-number-format';\nimport { useAlert } from 'react-alert';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProductDetails, clearErrors, newReview } from '../../actions/productActions';\nimport { getCategoryDetailsById } from '../../actions/categoryActions';\nimport { getBrandDetailsById } from '../../actions/brandActions';\nimport { addItemToCart } from '../../actions/cartActions';\nimport { NEW_REVIEW_RESET } from '../../constants/productConstants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductDetails = ({\n  match,\n  history\n}) => {\n  _s();\n\n  const size1 = ['3L', '8L', '10L'];\n  const size2 = ['S', 'L', 'M', 'XL'];\n  const [quantity, setQuantity] = useState(1);\n  const [size, setSize] = useState('Oversize');\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState('');\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const {\n    loading,\n    error,\n    product\n  } = useSelector(state => state.productDetails);\n  const {\n    error: reviewError,\n    success\n  } = useSelector(state => state.newReview);\n  const {\n    brand\n  } = useSelector(state => state.brandDetails);\n  const {\n    category\n  } = useSelector(state => state.categoryDetails);\n  const {\n    userLogin\n  } = useSelector(state => state.auth);\n  const uid = userLogin ? userLogin._id : null;\n  useEffect(() => {\n    dispatch(getProductDetails(match.params.id));\n    dispatch(getBrandDetailsById(product.brand));\n    dispatch(getCategoryDetailsById(product.category));\n\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (reviewError) {\n      alert.error(reviewError);\n      dispatch(clearErrors());\n    }\n\n    if (success) {\n      alert.success('Reivew posted successfully');\n      dispatch({\n        type: NEW_REVIEW_RESET\n      });\n    }\n  }, [dispatch, alert, error, reviewError, success, match.params.id, product.brand, product.category]);\n\n  const increaseQty = () => {\n    const count = document.querySelector('.product-quantity');\n    if (count.valueAsNumber >= product.stock) return;\n    const qty = count.valueAsNumber + 1;\n    setQuantity(qty);\n  };\n\n  const decreaseQty = () => {\n    const count = document.querySelector('.product-quantity');\n    if (count.valueAsNumber <= 1) return;\n    const qty = count.valueAsNumber - 1;\n    setQuantity(qty);\n  };\n\n  const addToCart = () => {\n    if (uid) {\n      dispatch(addItemToCart(match.params.id, quantity, size, uid));\n      alert.success('Item Added to Cart');\n    } else {\n      history.push('/login');\n    }\n  };\n\n  function setUserRatings() {\n    const stars = document.querySelectorAll('.star');\n    stars.forEach((star, index) => {\n      star.starValue = index + 1;\n      ['click', 'mouseover', 'mouseout'].forEach(function (e) {\n        star.addEventListener(e, showRatings);\n      });\n    });\n\n    function showRatings(e) {\n      stars.forEach((star, index) => {\n        if (e.type === 'click') {\n          if (index < this.starValue) {\n            star.classList.add('orange');\n            setRating(this.starValue);\n          } else {\n            star.classList.remove('orange');\n          }\n        }\n\n        if (e.type === 'mouseover') {\n          if (index < this.starValue) {\n            star.classList.add('yellow');\n          } else {\n            star.classList.remove('yellow');\n          }\n        }\n\n        if (e.type === 'mouseout') {\n          star.classList.remove('yellow');\n        }\n      });\n    }\n  }\n\n  const reviewHandler = () => {\n    const formData = new FormData();\n    formData.set('rating', rating);\n    formData.set('comment', comment);\n    formData.set('productId', match.params.id);\n    dispatch(newReview(formData));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MetaData, {\n      title: product.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '200px 0'\n      },\n      children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 29\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 25\n    }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"product\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/shop\",\n                children: \"Shop\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Chi ti\\u1EBFt s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-details\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-5\",\n                children: /*#__PURE__*/_jsxDEV(Carousel, {\n                  pause: \"hover\",\n                  children: product.images && product.images.map(image => /*#__PURE__*/_jsxDEV(Carousel.Item, {\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"d-block w-100\",\n                      src: image.url,\n                      alt: product.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 61\n                    }, this)\n                  }, image.public_id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 57\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-7\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-details-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Th\\u01B0\\u01A1ng hi\\u1EC7u: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/collections/brand/${brand && brand.name}`,\n                    children: brand && brand.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-details-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Lo\\u1EA1i s\\u1EA3n ph\\u1EA9m: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/collections/category/${category && category.name}`,\n                    children: category && category.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-details-info\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ratings\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"rating-outer\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"rating-inner\",\n                        style: {\n                          width: `${product.ratings / 5 * 100}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 186,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 185,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      id: \"no_of_reviews\",\n                      children: [\"(\", product.numOfReviews, \" Reviews)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 57\n                    }, this), userLogin ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      id: \"review_btn\",\n                      \"data-toggle\": \"modal\",\n                      \"data-target\": \"#ratingModal\",\n                      onClick: setUserRatings,\n                      children: \"Submit reviews\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 73\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      id: \"none-review\",\n                      children: \"Login to post reviews\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 191,\n                      columnNumber: 67\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-details-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Status: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: product.stock > 0 ? 'greenColor' : 'redColor',\n                    children: product.stock > 0 ? 'Còn hàng' : 'Hết hàng'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-details-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Sold: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: product.sold\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-details-info\",\n                  children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                      value: product.price,\n                      displayType: 'text',\n                      thousandSeparator: true,\n                      prefix: 'đ '\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 49\n                }, this), product.stock > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"product-quantity-wrapper\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"product-quantity-btn\",\n                      onClick: decreaseQty,\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"bx bx-minus\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 214,\n                        columnNumber: 69\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 65\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      className: \"product-quantity\",\n                      value: quantity,\n                      readOnly: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 65\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"product-quantity-btn\",\n                      onClick: increaseQty,\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"bx bx-plus\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 218,\n                        columnNumber: 69\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 217,\n                      columnNumber: 65\n                    }, this), category && category.name === 'Accessories' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        marginLeft: '30px'\n                      },\n                      children: \"Size: Oversize\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 115\n                    }, this) : /*#__PURE__*/_jsxDEV(\"select\", {\n                      className: \"form-control\",\n                      id: \"category_field\",\n                      value: size,\n                      onChange: e => setSize(e.target.value),\n                      style: {\n                        marginLeft: '30px',\n                        width: '12%'\n                      },\n                      children: category && category.name === 'Kitchen' ? size1.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: s,\n                        children: s\n                      }, s, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 227,\n                        columnNumber: 89\n                      }, this)) : category && category.name === 'Cook' ? size2.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: s,\n                        children: s\n                      }, s, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 233,\n                        columnNumber: 93\n                      }, this)) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          marginLeft: '30px'\n                        },\n                        children: \"Size: Oversize\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 236,\n                        columnNumber: 89\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 73\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 61\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-cart\",\n                    disabled: product.stock === 0,\n                    onClick: addToCart,\n                    children: \"Add to cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 61\n                  }, this)]\n                }, void 0, true) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"rating w-50\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"modal fade\",\n                      id: \"ratingModal\",\n                      tabIndex: \"-1\",\n                      role: \"dialog\",\n                      \"aria-labelledby\": \"ratingModalLabel\",\n                      \"aria-hidden\": \"true\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"modal-dialog\",\n                        role: \"document\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"modal-content\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"modal-header\",\n                            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                              className: \"modal-title\",\n                              id: \"ratingModalLabel\",\n                              children: \"Submit Review\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 259,\n                              columnNumber: 73\n                            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                              type: \"button\",\n                              className: \"close\",\n                              \"data-dismiss\": \"modal\",\n                              \"aria-label\": \"Close\",\n                              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                                \"aria-hidden\": \"true\",\n                                children: \"\\xD7\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 261,\n                                columnNumber: 77\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 260,\n                              columnNumber: 73\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 258,\n                            columnNumber: 69\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"modal-body\",\n                            children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                              className: \"stars\",\n                              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                                className: \"star\",\n                                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fa fa-star\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 267,\n                                  columnNumber: 98\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 267,\n                                columnNumber: 77\n                              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                                className: \"star\",\n                                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fa fa-star\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 268,\n                                  columnNumber: 98\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 268,\n                                columnNumber: 77\n                              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                                className: \"star\",\n                                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fa fa-star\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 269,\n                                  columnNumber: 98\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 269,\n                                columnNumber: 77\n                              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                                className: \"star\",\n                                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fa fa-star\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 270,\n                                  columnNumber: 98\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 270,\n                                columnNumber: 77\n                              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                                className: \"star\",\n                                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fa fa-star\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 271,\n                                  columnNumber: 98\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 271,\n                                columnNumber: 77\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 266,\n                              columnNumber: 73\n                            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                              name: \"review\",\n                              id: \"review\",\n                              className: \"form-control mt-3\",\n                              value: comment,\n                              onChange: e => setComment(e.target.value)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 274,\n                              columnNumber: 73\n                            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                              className: \"btn my-3 float-right review-btn px-4 text-black\",\n                              onClick: reviewHandler,\n                              \"data-dismiss\": \"modal\",\n                              \"aria-label\": \"Close\",\n                              children: \"Submit\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 283,\n                              columnNumber: 73\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 264,\n                            columnNumber: 69\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 257,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 256,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Descriptions:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"product-description\",\n            children: product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-list-reviews\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"reviews w-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Other's Reviews:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 45\n              }, this), product.reviews && product.reviews.length > 0 ? /*#__PURE__*/_jsxDEV(ListReviews, {\n                reviews: product.reviews\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 53\n              }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"No reviews\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 53\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 29\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProductDetails, \"jZ42Y/+CpWAEEUCFiK33HaV1xzw=\", false, function () {\n  return [useDispatch, useAlert, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = ProductDetails;\nexport default ProductDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"sources":["C:/Users/Admin/Documents/CHUNGKHOANNN/new/giadungshop/frontend/src/components/product/ProductDetails.js"],"names":["React","Fragment","useState","useEffect","Carousel","Link","Loader","MetaData","ListReviews","NumberFormat","useAlert","useDispatch","useSelector","getProductDetails","clearErrors","newReview","getCategoryDetailsById","getBrandDetailsById","addItemToCart","NEW_REVIEW_RESET","ProductDetails","match","history","size1","size2","quantity","setQuantity","size","setSize","rating","setRating","comment","setComment","dispatch","alert","loading","error","product","state","productDetails","reviewError","success","brand","brandDetails","category","categoryDetails","userLogin","auth","uid","_id","params","id","type","increaseQty","count","document","querySelector","valueAsNumber","stock","qty","decreaseQty","addToCart","push","setUserRatings","stars","querySelectorAll","forEach","star","index","starValue","e","addEventListener","showRatings","classList","add","remove","reviewHandler","formData","FormData","set","name","padding","images","map","image","url","title","public_id","width","ratings","numOfReviews","sold","price","marginLeft","target","value","s","description","reviews","length"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react'\nimport { Carousel } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport Loader from '../layouts/Loader'\nimport MetaData from '../layouts/MetaData'\nimport ListReviews from './review/ListReviews'\nimport NumberFormat from 'react-number-format'\n\nimport { useAlert } from 'react-alert'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getProductDetails, clearErrors, newReview } from '../../actions/productActions'\nimport { getCategoryDetailsById } from '../../actions/categoryActions'\nimport { getBrandDetailsById } from '../../actions/brandActions'\nimport { addItemToCart } from '../../actions/cartActions'\nimport { NEW_REVIEW_RESET } from '../../constants/productConstants'\n\nconst ProductDetails = ({ match, history }) => {\n    const size1 = [\n        '3L',\n        '8L',\n        '10L',\n    ]\n    const size2 = [\n        'S',\n        'L',\n        'M',\n        'XL'\n    ]\n    const [quantity, setQuantity] = useState(1)\n    const [size, setSize] = useState('Oversize')\n    const [rating, setRating] = useState(0)\n    const [comment, setComment] = useState('')\n    const dispatch = useDispatch()\n    const alert = useAlert()\n    const { loading, error, product } = useSelector(state => state.productDetails)\n    const { error: reviewError, success } = useSelector(state => state.newReview)\n    const { brand } = useSelector(state => state.brandDetails)\n    const { category } = useSelector(state => state.categoryDetails)\n    const { userLogin } = useSelector(state => state.auth)\n    const uid = userLogin ? userLogin._id : null\n\n    useEffect(() => {\n        dispatch(getProductDetails(match.params.id))\n        dispatch(getBrandDetailsById(product.brand))\n        dispatch(getCategoryDetailsById(product.category))\n\n        if (error) {\n            alert.error(error);\n            dispatch(clearErrors())\n        }\n\n        if (reviewError) {\n            alert.error(reviewError);\n            dispatch(clearErrors())\n        }\n\n        if (success) {\n            alert.success('Reivew posted successfully')\n            dispatch({ type: NEW_REVIEW_RESET })\n        }\n\n    }, [dispatch, alert, error, reviewError, success, match.params.id, product.brand, product.category])\n\n    const increaseQty = () => {\n        const count = document.querySelector('.product-quantity')\n\n        if (count.valueAsNumber >= product.stock) return;\n\n        const qty = count.valueAsNumber + 1;\n        setQuantity(qty)\n    }\n\n    const decreaseQty = () => {\n\n        const count = document.querySelector('.product-quantity')\n\n        if (count.valueAsNumber <= 1) return;\n\n        const qty = count.valueAsNumber - 1;\n        setQuantity(qty)\n\n    }\n\n    const addToCart = () => {\n\n\n        if (uid) {\n            dispatch(addItemToCart(match.params.id, quantity, size, uid))\n            alert.success('Item Added to Cart')\n        }\n        else {\n            history.push('/login')\n        }\n    }\n\n    function setUserRatings() {\n        const stars = document.querySelectorAll('.star');\n\n        stars.forEach((star, index) => {\n            star.starValue = index + 1;\n\n            ['click', 'mouseover', 'mouseout'].forEach(function (e) {\n                star.addEventListener(e, showRatings);\n            })\n        })\n\n        function showRatings(e) {\n            stars.forEach((star, index) => {\n                if (e.type === 'click') {\n                    if (index < this.starValue) {\n                        star.classList.add('orange');\n\n                        setRating(this.starValue)\n                    } else {\n                        star.classList.remove('orange')\n                    }\n                }\n\n                if (e.type === 'mouseover') {\n                    if (index < this.starValue) {\n                        star.classList.add('yellow');\n                    } else {\n                        star.classList.remove('yellow')\n                    }\n                }\n\n                if (e.type === 'mouseout') {\n                    star.classList.remove('yellow')\n                }\n            })\n        }\n    }\n\n    const reviewHandler = () => {\n        const formData = new FormData();\n\n        formData.set('rating', rating)\n        formData.set('comment', comment)\n        formData.set('productId', match.params.id)\n        dispatch(newReview(formData))\n    }\n\n    return (\n        <>\n            <MetaData title={product.name} />\n            {/* shop */}\n            {\n                loading ?\n                    (\n                        <div style={{ padding: '200px 0' }}>\n                            <Loader />\n                        </div>\n                    )\n                    : (\n                        <Fragment>\n                            <section className=\"product\">\n                                <div className=\"container\">\n                                    <div className=\"product-title\">\n                                        <h2><Link to='/shop'>Shop</Link></h2>\n                                        <p>Chi tiết sản phẩm</p>\n                                    </div>\n                                    <div className=\"product-details\">\n                                        <div className=\"row\">\n                                            <div className=\"col-5\">\n                                                <Carousel pause='hover'>\n                                                    {product.images && product.images.map(image => (\n                                                        <Carousel.Item key={image.public_id}>\n                                                            <img className=\"d-block w-100\" src={image.url} alt={product.title} />\n                                                        </Carousel.Item>\n                                                    ))}\n                                                </Carousel>\n                                            </div>\n                                            <div className=\"col-7\">\n                                                <h2>{product.name}</h2>\n                                                <div className=\"product-details-info\">\n                                                    <span>Thương hiệu: </span>\n                                                    <Link to={`/collections/brand/${brand && brand.name}`}>{brand && brand.name}</Link>\n                                                </div>\n                                                <div className=\"product-details-info\">\n                                                    <span>Loại sản phẩm: </span>\n                                                    <Link to={`/collections/category/${category && category.name}`}>{category && category.name}</Link>\n                                                </div>\n                                                <div className=\"product-details-info\">\n                                                    <div className=\"ratings\">\n                                                        <div className=\"rating-outer\">\n                                                            <div className=\"rating-inner\" style={{ width: `${(product.ratings / 5) * 100}%` }}></div>\n                                                        </div>\n                                                        <span id=\"no_of_reviews\">({product.numOfReviews} Reviews)</span>\n                                                        {\n                                                            userLogin ? <span id=\"review_btn\" data-toggle=\"modal\" data-target=\"#ratingModal\" onClick={setUserRatings}>Submit reviews</span>\n                                                                : <span id=\"none-review\">Login to post reviews</span>\n                                                        }\n                                                        <span></span>\n                                                    </div>\n                                                </div>\n                                                <div className=\"product-details-info\">\n                                                    <span>Status: </span>\n                                                    <p className={product.stock > 0 ? 'greenColor' : 'redColor'} >{product.stock > 0 ? 'Còn hàng' : 'Hết hàng'}</p>\n                                                </div>\n                                                <div className=\"product-details-info\">\n                                                    <span>Sold: </span>\n                                                    <p>{product.sold}</p>\n                                                </div>\n                                                <div className=\"product-details-info\">\n                                                    <h3>\n                                                        <NumberFormat value={product.price} displayType={'text'} thousandSeparator={true} prefix={'đ '} />\n                                                    </h3>\n                                                </div>\n                                                {\n                                                    product.stock > 0 ? (\n                                                        <>\n                                                            <div className=\"product-quantity-wrapper\">\n                                                                <span className=\"product-quantity-btn\" onClick={decreaseQty}>\n                                                                    <i className=\"bx bx-minus\"></i>\n                                                                </span>\n                                                                <input type=\"number\" className=\"product-quantity\" value={quantity} readOnly />\n                                                                <span className=\"product-quantity-btn\" onClick={increaseQty}>\n                                                                    <i className=\"bx bx-plus\"></i>\n                                                                </span>\n                                                                {\n                                                                    category && category.name === 'Accessories' ? <span style={{ marginLeft: '30px' }}>Size: Oversize</span> : (\n                                                                        <select className=\"form-control\" id=\"category_field\" value={size} onChange={(e) => setSize(e.target.value)} style={{ marginLeft: '30px', width: '12%' }}>\n                                                                            {\n                                                                                category && category.name === 'Kitchen' ? (\n\n                                                                                    size1.map(s => (\n                                                                                        <option key={s} value={s} >{s}</option>\n                                                                                    ))\n\n                                                                                ) : (\n                                                                                    category && category.name === 'Cook' ? (\n                                                                                        size2.map(s => (\n                                                                                            <option key={s} value={s} >{s}</option>\n                                                                                        ))\n                                                                                    ) : (\n                                                                                        <span style={{ marginLeft: '30px' }}>Size: Oversize</span>\n                                                                                    )\n                                                                                )\n\n                                                                            }\n                                                                        </select>\n                                                                    )\n                                                                }\n\n                                                            </div>\n                                                            <button type=\"button\" className=\"btn-cart\" disabled={product.stock === 0} onClick={addToCart}>Add to cart</button>\n                                                        </>\n                                                    ) : null\n                                                }\n\n\n                                                <div className=\"row\">\n                                                    <div className=\"rating w-50\">\n\n                                                        <div className=\"modal fade\" id=\"ratingModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"ratingModalLabel\" aria-hidden=\"true\">\n                                                            <div className=\"modal-dialog\" role=\"document\">\n                                                                <div className=\"modal-content\">\n                                                                    <div className=\"modal-header\">\n                                                                        <h5 className=\"modal-title\" id=\"ratingModalLabel\">Submit Review</h5>\n                                                                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                                                            <span aria-hidden=\"true\">&times;</span>\n                                                                        </button>\n                                                                    </div>\n                                                                    <div className=\"modal-body\">\n\n                                                                        <ul className=\"stars\" >\n                                                                            <li className=\"star\"><i className=\"fa fa-star\"></i></li>\n                                                                            <li className=\"star\"><i className=\"fa fa-star\"></i></li>\n                                                                            <li className=\"star\"><i className=\"fa fa-star\"></i></li>\n                                                                            <li className=\"star\"><i className=\"fa fa-star\"></i></li>\n                                                                            <li className=\"star\"><i className=\"fa fa-star\"></i></li>\n                                                                        </ul>\n\n                                                                        <textarea\n                                                                            name=\"review\"\n                                                                            id=\"review\" className=\"form-control mt-3\"\n                                                                            value={comment}\n                                                                            onChange={(e) => setComment(e.target.value)}\n                                                                        >\n\n                                                                        </textarea>\n\n                                                                        <button className=\"btn my-3 float-right review-btn px-4 text-black\" onClick={reviewHandler} data-dismiss=\"modal\" aria-label=\"Close\">Submit</button>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <h4>Descriptions:</h4>\n                                    <p className=\"product-description\">{product.description}</p>\n\n                                    <div className=\"product-list-reviews\">\n                                        <div class=\"reviews w-50\">\n                                            <h4>Other's Reviews:</h4>\n                                            <hr />\n                                            {\n                                                product.reviews && product.reviews.length > 0 ? (\n                                                    <ListReviews reviews={product.reviews} />\n                                                ) : (\n                                                    <h5>No reviews</h5>\n                                                )\n                                            }\n\n                                        </div>\n\n                                    </div>\n                                </div>\n                            </section>\n\n                        </Fragment >\n                    )\n            }\n        </>\n    )\n}\n\nexport default ProductDetails\n"]},"metadata":{},"sourceType":"module"}