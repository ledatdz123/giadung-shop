{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\CHUNGKHOANNN\\\\giadungshop\\\\frontend\\\\src\\\\components\\\\cart\\\\Cart.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport MetaData from '../layouts/MetaData';\nimport { useAlert } from 'react-alert';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateItemToCart, removeItemFromCart } from '../../actions/cartActions';\nimport swal from 'sweetalert';\nimport NumberFormat from 'react-number-format';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Cart = ({\n  history\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    userLogin\n  } = useSelector(state => state.auth);\n  const {\n    cartItems\n  } = useSelector(state => state.cart);\n  const uid = userLogin ? userLogin._id : null;\n\n  const increaseQty = (id, quantity, size, stock) => {\n    const newQty = quantity + 1;\n    if (newQty > stock) return;\n    dispatch(updateItemToCart(id, newQty, size, uid));\n  };\n\n  const decreaseQty = (id, size, quantity) => {\n    const newQty = quantity - 1;\n    if (newQty <= 0) return;\n    dispatch(updateItemToCart(id, newQty, size, uid));\n  };\n\n  const removeCartItemHandler = (id, size) => {\n    swal({\n      title: \"Are you sure?\",\n      text: \"Once deleted, you will not be able to recover this imaginary file!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(willDelete => {\n      if (willDelete) {\n        dispatch(removeItemFromCart(id, size, uid));\n        swal(\"Poof! Your cart items has been deleted!\", {\n          icon: \"success\"\n        });\n      } else {\n        swal(\"Haha Nope!\");\n      }\n    });\n  };\n\n  const checkoutHandler = () => {\n    history.push('/login?redirect=/order/shipping');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MetaData, {\n      title: 'My Cart'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), uid ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: cartItems ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"container\",\n          style: {\n            margin: \"50px auto 400px\"\n          },\n          children: \"Cart is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 66\n        }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container cart\",\n            style: {\n              margin: \"50px auto 200px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Gi\\u1ECF h\\xE0ng c\\u1EE7a t\\xF4i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 53\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-9\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: \"table-header\",\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: /*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"S\\u1EA3n ph\\u1EA9m\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 71,\n                          columnNumber: 77\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 71,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: /*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"Size\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 72,\n                          columnNumber: 77\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 72,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        style: {\n                          paddingLeft: \"20px\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"S\\u1ED1 l\\u01B0\\u1EE3ng\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 73,\n                          columnNumber: 109\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 73,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        style: {\n                          textAlign: \"right\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"T\\u1ED5ng\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 74,\n                          columnNumber: 108\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 74,\n                        columnNumber: 73\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 70,\n                      columnNumber: 69\n                    }, this), cartItems.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"cart-info\",\n                          children: [/*#__PURE__*/_jsxDEV(Link, {\n                            to: `/product/${item.product}`,\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: item.image,\n                              alt: \"\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 82,\n                              columnNumber: 93\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 81,\n                            columnNumber: 89\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              maxWidth: \"240px\"\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(Link, {\n                              to: `/product/${item.product}`,\n                              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                                className: \"cart-item-name\",\n                                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                                  children: item.name\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 86,\n                                  columnNumber: 127\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 86,\n                                columnNumber: 97\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 85,\n                              columnNumber: 93\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                                value: item.price,\n                                displayType: 'text',\n                                thousandSeparator: true,\n                                prefix: 'đ '\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 89,\n                                columnNumber: 97\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 88,\n                              columnNumber: 93\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              onClick: () => removeCartItemHandler(item.product, item.size),\n                              children: \"Remove\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 91,\n                              columnNumber: 93\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 84,\n                            columnNumber: 89\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 80,\n                          columnNumber: 85\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 79,\n                        columnNumber: 81\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.size\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 95,\n                        columnNumber: 81\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          textAlign: \"center\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"product-quantity-wrapper\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"product-quantity-btn\",\n                            onClick: () => decreaseQty(item.product, item.size, item.quantity),\n                            children: /*#__PURE__*/_jsxDEV(\"i\", {\n                              className: \"bx bx-minus\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 101,\n                              columnNumber: 93\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 100,\n                            columnNumber: 89\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"number\",\n                            className: \"product-quantity\",\n                            value: item.quantity,\n                            readOnly: true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 103,\n                            columnNumber: 89\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"product-quantity-btn\",\n                            onClick: () => increaseQty(item.product, item.quantity, item.size, item.stock),\n                            children: /*#__PURE__*/_jsxDEV(\"i\", {\n                              className: \"bx bx-plus\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 105,\n                              columnNumber: 93\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 104,\n                            columnNumber: 89\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 99,\n                          columnNumber: 85\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 98,\n                        columnNumber: 81\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          textAlign: \"right\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                          value: item.price * item.quantity,\n                          displayType: 'text',\n                          thousandSeparator: true,\n                          prefix: 'đ '\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 111,\n                          columnNumber: 85\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 110,\n                        columnNumber: 81\n                      }, this)]\n                    }, item.product, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 78,\n                      columnNumber: 77\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 65\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 61\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 57\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-3 checkout-wrap\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"total-price\",\n                  children: [/*#__PURE__*/_jsxDEV(\"table\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                            children: \"T\\u1ED5ng s\\u1ED1: \"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 125,\n                            columnNumber: 81\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 125,\n                          columnNumber: 77\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                            children: cartItems.length\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 126,\n                            columnNumber: 81\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 126,\n                          columnNumber: 77\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 124,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"b\", {\n                            children: \"T\\u1ED5ng ti\\u1EC1n\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 129,\n                            columnNumber: 81\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 129,\n                          columnNumber: 77\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"b\", {\n                            children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                              value: cartItems.reduce((acc, item) => acc + item.quantity * item.price, 0),\n                              displayType: 'text',\n                              thousandSeparator: true,\n                              prefix: 'đ '\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 132,\n                              columnNumber: 85\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 131,\n                            columnNumber: 81\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 130,\n                          columnNumber: 77\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 128,\n                        columnNumber: 73\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 69\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 65\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-checkout btn-block\",\n                    onClick: checkoutHandler,\n                    children: \"Proceed To Checkout\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 65\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 61\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 57\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 49\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 45\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"container\",\n        style: {\n          margin: \"50px auto 400px\"\n        },\n        children: \"Cart is empty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 33\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"container\",\n      style: {\n        margin: \"50px auto 400px\"\n      },\n      children: \"Login to view your cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Cart, \"Jgm8dhuVNI4qgMeP8c7SsKTUhEc=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["C:/Users/Admin/Documents/CHUNGKHOANNN/giadungshop/frontend/src/components/cart/Cart.js"],"names":["React","Fragment","Link","MetaData","useAlert","useDispatch","useSelector","updateItemToCart","removeItemFromCart","swal","NumberFormat","Cart","history","dispatch","userLogin","state","auth","cartItems","cart","uid","_id","increaseQty","id","quantity","size","stock","newQty","decreaseQty","removeCartItemHandler","title","text","icon","buttons","dangerMode","then","willDelete","checkoutHandler","push","length","margin","paddingLeft","textAlign","map","item","product","image","maxWidth","name","price","reduce","acc"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react'\nimport { Link } from 'react-router-dom'\nimport MetaData from '../layouts/MetaData'\nimport { useAlert } from 'react-alert'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { updateItemToCart, removeItemFromCart } from '../../actions/cartActions'\nimport swal from 'sweetalert'\nimport NumberFormat from 'react-number-format'\n\nconst Cart = ({ history }) => {\n    const dispatch = useDispatch()\n    const { userLogin } = useSelector(state => state.auth)\n    const { cartItems } = useSelector(state => state.cart)\n    const uid = userLogin ? userLogin._id : null\n\n    const increaseQty = (id, quantity, size, stock) => {\n        const newQty = quantity + 1;\n        if (newQty > stock) return\n        dispatch(updateItemToCart(id, newQty, size, uid))\n    }\n\n    const decreaseQty = (id, size, quantity) => {\n        const newQty = quantity - 1;\n        if (newQty <= 0) return\n        dispatch(updateItemToCart(id, newQty, size, uid))\n    }\n\n    const removeCartItemHandler = (id, size) => {\n        swal({\n            title: \"Are you sure?\",\n            text: \"Once deleted, you will not be able to recover this imaginary file!\",\n            icon: \"warning\",\n            buttons: true,\n            dangerMode: true,\n        })\n            .then((willDelete) => {\n                if (willDelete) {\n                    dispatch(removeItemFromCart(id, size, uid))\n                    swal(\"Poof! Your cart items has been deleted!\", {\n                        icon: \"success\",\n                    })\n                } else {\n                    swal(\"Haha Nope!\")\n                }\n            })\n    }\n\n    const checkoutHandler = () => {\n        history.push('/login?redirect=/order/shipping')\n    }\n\n    return (\n        <Fragment>\n            <MetaData title={'My Cart'} />\n            {\n                uid ? (\n                    <>\n                        {\n                            cartItems ? (\n                                <>\n                                    {\n                                        cartItems.length === 0 ? <h3 className=\"container\" style={{ margin: \"50px auto 400px\" }}>Cart is empty</h3> : (\n                                            <Fragment>\n                                                <div className=\"container cart\" style={{ margin: \"50px auto 200px\" }}>\n                                                    <h3>Giỏ hàng của tôi</h3>\n                                                    <div class=\"row\">\n                                                        <div className=\"col-9\">\n                                                            <table>\n                                                                <tbody>\n                                                                    <tr className=\"table-header\">\n                                                                        <th><b>Sản phẩm</b></th>\n                                                                        <th><b>Size</b></th>\n                                                                        <th style={{ paddingLeft: \"20px\" }}><b>Số lượng</b></th>\n                                                                        <th style={{ textAlign: \"right\" }}><b>Tổng</b></th>\n                                                                    </tr>\n                                                                    {\n                                                                        cartItems.map(item => (\n                                                                            <tr key={item.product}>\n                                                                                <td>\n                                                                                    <div className=\"cart-info\">\n                                                                                        <Link to={`/product/${item.product}`}>\n                                                                                            <img src={item.image} alt=\"\" />\n                                                                                        </Link>\n                                                                                        <div style={{ maxWidth: \"240px\" }}>\n                                                                                            <Link to={`/product/${item.product}`}>\n                                                                                                <p className=\"cart-item-name\"><b>{item.name}</b></p>\n                                                                                            </Link>\n                                                                                            <p>\n                                                                                                <NumberFormat value={item.price} displayType={'text'} thousandSeparator={true} prefix={'đ '} />\n                                                                                            </p>\n                                                                                            <span onClick={() => removeCartItemHandler(item.product, item.size)} >Remove</span>\n                                                                                        </div>\n                                                                                    </div>\n                                                                                </td>\n                                                                                <td>\n                                                                                    {item.size}\n                                                                                </td>\n                                                                                <td style={{ textAlign: \"center\" }}>\n                                                                                    <div className=\"product-quantity-wrapper\">\n                                                                                        <span className=\"product-quantity-btn\" onClick={() => decreaseQty(item.product, item.size, item.quantity)}>\n                                                                                            <i className=\"bx bx-minus\"></i>\n                                                                                        </span>\n                                                                                        <input type=\"number\" className=\"product-quantity\" value={item.quantity} readOnly />\n                                                                                        <span className=\"product-quantity-btn\" onClick={() => increaseQty(item.product, item.quantity, item.size, item.stock)}>\n                                                                                            <i className=\"bx bx-plus\"></i>\n                                                                                        </span>\n\n                                                                                    </div>\n                                                                                </td>\n                                                                                <td style={{ textAlign: \"right\" }}>\n                                                                                    <NumberFormat value={item.price * item.quantity} displayType={'text'} thousandSeparator={true} prefix={'đ '} />\n                                                                                </td>\n                                                                            </tr>\n                                                                        ))\n                                                                    }\n                                                                </tbody>\n                                                            </table>\n                                                        </div>\n                                                        <div className=\"col-3 checkout-wrap\">\n\n                                                            <div className=\"total-price\">\n                                                                <table>\n                                                                    <tbody>\n                                                                        <tr>\n                                                                            <td><h5>Tổng số: </h5></td>\n                                                                            <td><h5>{cartItems.length}</h5></td>\n                                                                        </tr>\n                                                                        <tr>\n                                                                            <td><b>Tổng tiền</b></td>\n                                                                            <td>\n                                                                                <b>\n                                                                                    <NumberFormat value={cartItems.reduce((acc, item) => acc + item.quantity * item.price, 0)} displayType={'text'} thousandSeparator={true} prefix={'đ '} />\n                                                                                </b>\n                                                                            </td>\n                                                                        </tr>\n                                                                    </tbody>\n                                                                </table>\n                                                                <button className=\"btn btn-checkout btn-block\" onClick={checkoutHandler}>Proceed To Checkout</button>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n\n                                                </div>\n\n                                            </Fragment>\n                                        )\n                                    }\n                                </>\n                            ) : (\n                                <h3 className=\"container\" style={{ margin: \"50px auto 400px\" }}>Cart is empty</h3>\n                            )\n                        }\n                    </>\n                ) : (\n                    <h3 className=\"container\" style={{ margin: \"50px auto 400px\" }}>Login to view your cart</h3>\n                )\n            }\n        </Fragment >\n    )\n}\n\nexport default Cart\n"]},"metadata":{},"sourceType":"module"}