{"ast":null,"code":"import { ADD_TO_CART, REMOVE_ITEM_CART, UPDATE_TO_CART, SAVE_SHIPPING_INFO, CART_RESET, CART_IMPORT } from '../constants/cartConstants';\nexport const cartReducer = (state = {\n  cartItems: [],\n  shippingInfo: {}\n}, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      const item = action.payload;\n      const isItemExist = state.cartItems ? state.cartItems.find(i => i.product === item.product && i.size === item.size) : null;\n      console.log(isItemExist);\n\n      if (isItemExist) {\n        state.cartItems.map(i => {\n          if (i.product === isItemExist.product && i.size === isItemExist.size) {\n            i.quantity = i.quantity + item.quantity;\n          }\n        });\n        return { ...state,\n          cartItems: state.cartItems\n        };\n      } else {\n        console.log(state.cartItems);\n\n        if (state.cartItems) {\n          console.log('ac');\n          return { ...state,\n            cartItems: [...state.cartItems, item]\n          };\n        } else {\n          return { ...state,\n            cartItems: [item]\n          };\n        }\n      }\n\n    case REMOVE_ITEM_CART:\n      let isItemRemove = state.cartItems.find(i => i.product === action.payload.id && i.size === action.payload.size);\n      return { ...state,\n        cartItems: state.cartItems.filter(i => i !== isItemRemove)\n      };\n\n    case UPDATE_TO_CART:\n      const updateItem = action.payload;\n      const isUpdateItemExist = state.cartItems.find(i => i.product === updateItem.product && i.size === updateItem.size);\n\n      if (isUpdateItemExist) {\n        return { ...state,\n          cartItems: state.cartItems.map(i => i.product === isUpdateItemExist.product && i.size === isUpdateItemExist.size ? updateItem : i)\n        };\n      } else {\n        return { ...state,\n          cartItems: [...state.cartItems, updateItem]\n        };\n      }\n\n    case SAVE_SHIPPING_INFO:\n      return { ...state,\n        shippingInfo: action.payload\n      };\n\n    case CART_IMPORT:\n      return { ...state,\n        cartItems: action.payload\n      };\n\n    case CART_RESET:\n      return {\n        cartItems: [],\n        shippingInfo: {}\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["C:/Users/Admin/Documents/CHUNGKHOANNN/giadungshop/frontend/src/reducers/cartReducers.js"],"names":["ADD_TO_CART","REMOVE_ITEM_CART","UPDATE_TO_CART","SAVE_SHIPPING_INFO","CART_RESET","CART_IMPORT","cartReducer","state","cartItems","shippingInfo","action","type","item","payload","isItemExist","find","i","product","size","console","log","map","quantity","isItemRemove","id","filter","updateItem","isUpdateItemExist"],"mappings":"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","sourcesContent":["import { ADD_TO_CART, REMOVE_ITEM_CART, UPDATE_TO_CART, SAVE_SHIPPING_INFO, CART_RESET, CART_IMPORT } from '../constants/cartConstants'\n\nexport const cartReducer = (state = { cartItems: [], shippingInfo: {} }, action) => {\n    switch (action.type) {\n\n        case ADD_TO_CART:\n            const item = action.payload\n            const isItemExist = state.cartItems ? state.cartItems.find(i => i.product === item.product && i.size === item.size) : null\n            console.log(isItemExist);\n            if (isItemExist) {\n                state.cartItems.map(i => {\n                    if (i.product === isItemExist.product && i.size === isItemExist.size) {\n\n                        i.quantity = i.quantity + item.quantity\n\n                    }\n                })\n\n                return {\n                    ...state,\n                    cartItems: state.cartItems\n                }\n            } else {\n                console.log(state.cartItems);\n                if (state.cartItems) {\n                    console.log('ac');\n                    return {\n                        ...state,\n                        cartItems: [...state.cartItems, item]\n                    }\n                } else {\n                    return {\n                        ...state,\n                        cartItems: [item]\n                    }\n                }\n            }\n\n        case REMOVE_ITEM_CART:\n            let isItemRemove = state.cartItems.find(i => i.product === action.payload.id && i.size === action.payload.size)\n            return {\n                ...state,\n                cartItems: state.cartItems.filter(i => i !== isItemRemove)\n            }\n\n        case UPDATE_TO_CART:\n            const updateItem = action.payload;\n            const isUpdateItemExist = state.cartItems.find(i => i.product === updateItem.product && i.size === updateItem.size)\n            if (isUpdateItemExist) {\n\n                return {\n                    ...state,\n                    cartItems: state.cartItems.map(i => i.product === isUpdateItemExist.product && i.size === isUpdateItemExist.size ? updateItem : i)\n                }\n            } else {\n                return {\n                    ...state,\n                    cartItems: [...state.cartItems, updateItem]\n                }\n            }\n\n        case SAVE_SHIPPING_INFO:\n            return {\n                ...state,\n                shippingInfo: action.payload\n            }\n        case CART_IMPORT:\n            return {\n                ...state,\n                cartItems: action.payload,\n            }\n        case CART_RESET:\n            return {\n                cartItems: [],\n                shippingInfo: {}\n            }\n        default:\n            return state\n    }\n}"]},"metadata":{},"sourceType":"module"}