{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\CHUNGKHOANNN\\\\giadungshop\\\\frontend\\\\src\\\\components\\\\admin\\\\UpdateProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from 'react';\nimport MetaData from '../layouts/MetaData';\nimport Sidebar from './Sidebar';\nimport axios from 'axios';\nimport { useAlert } from 'react-alert';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateProduct, getProductDetails, clearErrors } from '../../actions/productActions';\nimport { getBrands } from '../../actions/brandActions';\nimport { getCategories } from '../../actions/categoryActions';\nimport { UPDATE_PRODUCT_RESET, PRODUCT_DETAILS_RESET } from '../../constants/productConstants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UpdateProduct = ({\n  match,\n  history\n}) => {\n  _s();\n\n  const {\n    brands\n  } = useSelector(state => state.brands);\n  const {\n    categories\n  } = useSelector(state => state.categories);\n  const [name, setName] = useState('');\n  const [price, setPrice] = useState(0);\n  const [description, setDescription] = useState('');\n  const [category, setCategory] = useState('');\n  const [brand, setBrand] = useState('');\n  const [stock, setStock] = useState(0);\n  const [images, setImages] = useState([]);\n  const [oldImages, setOldImages] = useState([]);\n  const [image1, setImage1] = useState('');\n  const [image2, setImage2] = useState('');\n  const [image3, setImage3] = useState('');\n  const [image4, setImage4] = useState('');\n  const [imagesPreview1, setImagesPreview1] = useState('/images/no-image.png');\n  const [imagesPreview2, setImagesPreview2] = useState('/images/no-image.png');\n  const [imagesPreview3, setImagesPreview3] = useState('/images/no-image.png');\n  const [imagesPreview4, setImagesPreview4] = useState('/images/no-image.png');\n  const alert = useAlert();\n  const dispatch = useDispatch();\n  const {\n    error,\n    product\n  } = useSelector(state => state.productDetails);\n  const {\n    loading,\n    error: updateError,\n    isUpdated\n  } = useSelector(state => state.product);\n  const productId = match.params.id;\n  useEffect(() => {\n    if (!product || product._id !== productId) {\n      dispatch(getProductDetails(productId));\n    } else {\n      setName(product.name);\n      setPrice(product.price);\n      setDescription(product.description);\n      setCategory(product.category);\n      setBrand(product.brand);\n      setStock(product.stock);\n      setOldImages(product.images);\n      setImages(product.images);\n      setImage1(product.images[0] ? product.images[0].public_id : '');\n      setImage2(product.images[1] ? product.images[1].public_id : '');\n      setImage3(product.images[2] ? product.images[2].public_id : '');\n      setImage4(product.images[3] ? product.images[3].public_id : '');\n    }\n\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (updateError) {\n      alert.error(updateError);\n      dispatch(clearErrors());\n    }\n\n    if (isUpdated) {\n      alert.success('Product updated successfully');\n      history.push('/admin/products');\n      dispatch({\n        type: UPDATE_PRODUCT_RESET\n      });\n      dispatch({\n        type: PRODUCT_DETAILS_RESET\n      });\n    }\n  }, [dispatch, alert, error, isUpdated, history, updateError, product, productId]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (name === '') {\n      alert.error('Please enter a name!');\n      return;\n    }\n\n    if (price === '' || price === '0') {\n      alert.error('Please enter the price greater than 0!');\n      return;\n    }\n\n    if (stock === '' || stock === '0') {\n      alert.error('Please enter the stock greater than 0!');\n      return;\n    }\n\n    if (description === '') {\n      alert.error('Please enter a description!');\n      return;\n    }\n\n    if (images.length === 0) {\n      alert.error('Please add images!');\n      return;\n    }\n\n    images.forEach(function (v) {\n      delete v._id;\n    });\n    dispatch(updateProduct(product._id, name, price, stock, description, category, brand, images));\n  };\n\n  const onChange1 = async e => {\n    const file = e.target.files[0];\n\n    if (!file) {\n      return alert.error('File not exist!');\n    }\n\n    if (file.type !== 'image/jpeg' && file.type !== 'image/jpg' && file.type !== 'image/png') {\n      return alert.error('File format is incorrect!');\n    }\n\n    if (file.size > 1024 * 1024 * 5) {\n      return alert.error('File too large!');\n    }\n\n    let formData = new FormData();\n    formData.append('file', file);\n    const res = await axios.post('/api/upload', formData, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    });\n    setImages(oldArray => [...oldArray, res.data]);\n    setImage1(res.data.public_id);\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      if (reader.readyState === 2) {\n        setImagesPreview1(reader.result);\n      }\n    };\n\n    reader.readAsDataURL(e.target.files[0]);\n  };\n\n  const onChange2 = async e => {\n    const file = e.target.files[0];\n\n    if (!file) {\n      return alert.error('File not exist!');\n    }\n\n    if (file.type !== 'image/jpeg' && file.type !== 'image/jpg' && file.type !== 'image/png') {\n      return alert.error('File format is incorrect!');\n    }\n\n    if (file.size > 1024 * 1024 * 5) {\n      return alert.error('File too large!');\n    }\n\n    let formData = new FormData();\n    formData.append('file', file);\n    const res = await axios.post('/api/upload', formData, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    });\n    setImages(oldArray => [...oldArray, res.data]);\n    setImage2(res.data.public_id);\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      if (reader.readyState === 2) {\n        setImagesPreview2(reader.result);\n      }\n    };\n\n    reader.readAsDataURL(e.target.files[0]);\n  };\n\n  const onChange3 = async e => {\n    const file = e.target.files[0];\n\n    if (!file) {\n      return alert.error('File not exist!');\n    }\n\n    if (file.type !== 'image/jpeg' && file.type !== 'image/jpg' && file.type !== 'image/png') {\n      return alert.error('File format is incorrect!');\n    }\n\n    if (file.size > 1024 * 1024 * 5) {\n      return alert.error('File too large!');\n    }\n\n    let formData = new FormData();\n    formData.append('file', file);\n    const res = await axios.post('/api/upload', formData, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    });\n    setImages(oldArray => [...oldArray, res.data]);\n    setImage3(res.data.public_id);\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      if (reader.readyState === 2) {\n        setImagesPreview3(reader.result);\n      }\n    };\n\n    reader.readAsDataURL(e.target.files[0]);\n  };\n\n  const onChange4 = async e => {\n    const file = e.target.files[0];\n\n    if (!file) {\n      return alert.error('File not exist!');\n    }\n\n    if (file.type !== 'image/jpeg' && file.type !== 'image/jpg' && file.type !== 'image/png') {\n      return alert.error('File format is incorrect!');\n    }\n\n    if (file.size > 1024 * 1024 * 5) {\n      return alert.error('File too large!');\n    }\n\n    let formData = new FormData();\n    formData.append('file', file);\n    const res = await axios.post('/api/upload', formData, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    });\n    setImages(oldArray => [...oldArray, res.data]);\n    setImage4(res.data.public_id);\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      if (reader.readyState === 2) {\n        setImagesPreview4(reader.result);\n      }\n    };\n\n    reader.readAsDataURL(e.target.files[0]);\n  };\n\n  const deleteImage = index => e => {\n    let newImages = [...oldImages];\n    newImages[index] = '';\n    setOldImages(newImages);\n\n    if (index === 0) {\n      setImages(images.filter(item => item.public_id !== image1));\n      setImage1('');\n    } else if (index === 1) {\n      setImages(images.filter(item => item.public_id !== image2));\n      setImage2('');\n    } else if (index === 2) {\n      setImages(images.filter(item => item.public_id !== image3));\n      setImage3('');\n    } else if (index === 3) {\n      setImages(images.filter(item => item.public_id !== image4));\n      setImage4('');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MetaData, {\n      title: 'Update Product'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row admin-products\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-2\",\n        children: /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-5 col-md-5\",\n        children: /*#__PURE__*/_jsxDEV(Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"my-4\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Update Product #\", productId]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"\",\n              onSubmit: submitHandler,\n              encType: \"multipart/form-data\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"name_field\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"name_field\",\n                  className: \"form-control\",\n                  value: name,\n                  onChange: e => setName(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"price_field\",\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      id: \"price_field\",\n                      className: \"form-control\",\n                      value: price,\n                      onChange: e => setPrice(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"stock_field\",\n                      children: \"Stock\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      id: \"stock_field\",\n                      className: \"form-control\",\n                      value: stock,\n                      onChange: e => setStock(e.target.value),\n                      disabled: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"description_field\",\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"form-control\",\n                  id: \"description_field\",\n                  rows: \"6\",\n                  value: description,\n                  onChange: e => setDescription(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"category_field\",\n                      children: \"Category\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      className: \"form-control\",\n                      id: \"category_field\",\n                      value: category,\n                      onChange: e => setCategory(e.target.value),\n                      children: categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: category._id,\n                        children: category.name\n                      }, category._id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 313,\n                        columnNumber: 53\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"brand_field\",\n                      children: \"Brand\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      className: \"form-control\",\n                      id: \"brand_field\",\n                      value: brand,\n                      onChange: e => setBrand(e.target.value),\n                      children: brands.map(brand => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: brand._id,\n                        children: brand.name\n                      }, brand._id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 324,\n                        columnNumber: 53\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 322,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                id: \"update_button\",\n                type: \"submit\",\n                className: \"btn btn-update btn-block\",\n                children: \"UPDATE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-5 col-md-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"new-img\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6 col-md-6 img-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: oldImages && oldImages[0] ? oldImages[0].url : imagesPreview1,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                name: \"avatar\",\n                className: \"custom-file-input\",\n                id: \"customFile\",\n                accept: \"images/*\",\n                onChange: onChange1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"delete-img\",\n                id: \"delete1\",\n                onClick: deleteImage(0),\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6 col-md-6 img-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: oldImages && oldImages[1] ? oldImages[1].url : imagesPreview2,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                name: \"avatar\",\n                className: \"custom-file-input\",\n                id: \"customFile\",\n                accept: \"images/*\",\n                onChange: onChange2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"delete-img\",\n                id: \"delete2\",\n                onClick: deleteImage(1),\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6 col-md-6 img-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: oldImages && oldImages[2] ? oldImages[2].url : imagesPreview3,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                name: \"avatar\",\n                className: \"custom-file-input\",\n                id: \"customFile\",\n                accept: \"images/*\",\n                onChange: onChange3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"delete-img\",\n                id: \"delete3\",\n                onClick: deleteImage(2),\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6 col-md-6 img-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: oldImages && oldImages[3] ? oldImages[3].url : imagesPreview4,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                name: \"avatar\",\n                className: \"custom-file-input\",\n                id: \"customFile\",\n                accept: \"images/*\",\n                onChange: onChange4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"delete-img\",\n                id: \"delete4\",\n                onClick: deleteImage(3),\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UpdateProduct, \"lVkWT/DJziowbLQggddogY2p7EY=\", false, function () {\n  return [useSelector, useSelector, useAlert, useDispatch, useSelector, useSelector];\n});\n\n_c = UpdateProduct;\nexport default UpdateProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateProduct\");","map":{"version":3,"sources":["C:/Users/Admin/Documents/CHUNGKHOANNN/giadungshop/frontend/src/components/admin/UpdateProduct.js"],"names":["React","Fragment","useState","useEffect","MetaData","Sidebar","axios","useAlert","useDispatch","useSelector","updateProduct","getProductDetails","clearErrors","getBrands","getCategories","UPDATE_PRODUCT_RESET","PRODUCT_DETAILS_RESET","UpdateProduct","match","history","brands","state","categories","name","setName","price","setPrice","description","setDescription","category","setCategory","brand","setBrand","stock","setStock","images","setImages","oldImages","setOldImages","image1","setImage1","image2","setImage2","image3","setImage3","image4","setImage4","imagesPreview1","setImagesPreview1","imagesPreview2","setImagesPreview2","imagesPreview3","setImagesPreview3","imagesPreview4","setImagesPreview4","alert","dispatch","error","product","productDetails","loading","updateError","isUpdated","productId","params","id","_id","public_id","success","push","type","submitHandler","e","preventDefault","length","forEach","v","onChange1","file","target","files","size","formData","FormData","append","res","post","headers","oldArray","data","reader","FileReader","onload","readyState","result","readAsDataURL","onChange2","onChange3","onChange4","deleteImage","index","newImages","filter","item","value","map","url"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react'\n\nimport MetaData from '../layouts/MetaData'\nimport Sidebar from './Sidebar'\nimport axios from 'axios'\n\nimport { useAlert } from 'react-alert'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { updateProduct, getProductDetails, clearErrors } from '../../actions/productActions'\nimport { getBrands } from '../../actions/brandActions'\nimport { getCategories } from '../../actions/categoryActions'\nimport { UPDATE_PRODUCT_RESET, PRODUCT_DETAILS_RESET } from '../../constants/productConstants'\n\nconst UpdateProduct = ({ match, history }) => {\n    const { brands } = useSelector(state => state.brands)\n    const { categories } = useSelector(state => state.categories)\n    const [name, setName] = useState('')\n    const [price, setPrice] = useState(0)\n    const [description, setDescription] = useState('')\n    const [category, setCategory] = useState('')\n    const [brand, setBrand] = useState('')\n    const [stock, setStock] = useState(0)\n    const [images, setImages] = useState([])\n\n    const [oldImages, setOldImages] = useState([])\n    const [image1, setImage1] = useState('')\n    const [image2, setImage2] = useState('')\n    const [image3, setImage3] = useState('')\n    const [image4, setImage4] = useState('')\n    const [imagesPreview1, setImagesPreview1] = useState('/images/no-image.png')\n    const [imagesPreview2, setImagesPreview2] = useState('/images/no-image.png')\n    const [imagesPreview3, setImagesPreview3] = useState('/images/no-image.png')\n    const [imagesPreview4, setImagesPreview4] = useState('/images/no-image.png')\n\n\n    const alert = useAlert()\n    const dispatch = useDispatch()\n\n    const { error, product } = useSelector(state => state.productDetails)\n    const { loading, error: updateError, isUpdated } = useSelector(state => state.product)\n\n    const productId = match.params.id\n\n    useEffect(() => {\n        if (!product || product._id !== productId) {\n            dispatch(getProductDetails(productId))\n        } else {\n            setName(product.name)\n            setPrice(product.price)\n            setDescription(product.description)\n            setCategory(product.category)\n            setBrand(product.brand)\n            setStock(product.stock)\n            setOldImages(product.images)\n            setImages(product.images)\n            setImage1(product.images[0] ? product.images[0].public_id : '')\n            setImage2(product.images[1] ? product.images[1].public_id : '')\n            setImage3(product.images[2] ? product.images[2].public_id : '')\n            setImage4(product.images[3] ? product.images[3].public_id : '')\n        }\n\n        if (error) {\n            alert.error(error)\n            dispatch(clearErrors())\n        }\n\n        if (updateError) {\n            alert.error(updateError)\n            dispatch(clearErrors())\n        }\n\n\n        if (isUpdated) {\n            alert.success('Product updated successfully')\n            history.push('/admin/products')\n            dispatch({ type: UPDATE_PRODUCT_RESET })\n            dispatch({ type: PRODUCT_DETAILS_RESET })\n        }\n\n    }, [dispatch, alert, error, isUpdated, history, updateError, product, productId])\n\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        if (name === '') {\n            alert.error('Please enter a name!')\n            return\n        }\n        if (price === '' || price === '0') {\n            alert.error('Please enter the price greater than 0!')\n            return\n        }\n        if (stock === '' || stock === '0') {\n            alert.error('Please enter the stock greater than 0!')\n            return\n        }\n        if (description === '') {\n            alert.error('Please enter a description!')\n            return\n        }\n        if (images.length === 0) {\n            alert.error('Please add images!')\n            return\n        }\n        images.forEach(function (v) { delete v._id })\n        dispatch(updateProduct(product._id, name, price, stock, description, category, brand, images))\n    }\n\n    const onChange1 = async e => {\n        const file = e.target.files[0]\n        if (!file) {\n            return alert.error('File not exist!')\n        }\n        if (file.type !== 'image/jpeg' && file.type !== 'image/jpg' && file.type !== 'image/png') {\n            return alert.error('File format is incorrect!')\n        }\n        if (file.size > 1024 * 1024 * 5) {\n            return alert.error('File too large!')\n        }\n\n        let formData = new FormData()\n        formData.append('file', file)\n\n        const res = await axios.post('/api/upload', formData, {\n            headers: { 'content-type': 'multipart/form-data' }\n        })\n        setImages(oldArray => [...oldArray, res.data])\n        setImage1(res.data.public_id)\n\n        const reader = new FileReader()\n        reader.onload = () => {\n            if (reader.readyState === 2) {\n                setImagesPreview1(reader.result)\n            }\n        }\n        reader.readAsDataURL(e.target.files[0])\n    }\n    const onChange2 = async e => {\n        const file = e.target.files[0]\n        if (!file) {\n            return alert.error('File not exist!')\n        }\n        if (file.type !== 'image/jpeg' && file.type !== 'image/jpg' && file.type !== 'image/png') {\n            return alert.error('File format is incorrect!')\n        }\n        if (file.size > 1024 * 1024 * 5) {\n            return alert.error('File too large!')\n        }\n\n        let formData = new FormData()\n        formData.append('file', file)\n\n        const res = await axios.post('/api/upload', formData, {\n            headers: { 'content-type': 'multipart/form-data' }\n        })\n        setImages(oldArray => [...oldArray, res.data])\n        setImage2(res.data.public_id)\n\n        const reader = new FileReader()\n        reader.onload = () => {\n            if (reader.readyState === 2) {\n                setImagesPreview2(reader.result)\n            }\n        }\n        reader.readAsDataURL(e.target.files[0])\n    }\n    const onChange3 = async e => {\n        const file = e.target.files[0]\n        if (!file) {\n            return alert.error('File not exist!')\n        }\n        if (file.type !== 'image/jpeg' && file.type !== 'image/jpg' && file.type !== 'image/png') {\n            return alert.error('File format is incorrect!')\n        }\n        if (file.size > 1024 * 1024 * 5) {\n            return alert.error('File too large!')\n        }\n\n        let formData = new FormData()\n        formData.append('file', file)\n\n        const res = await axios.post('/api/upload', formData, {\n            headers: { 'content-type': 'multipart/form-data' }\n        })\n        setImages(oldArray => [...oldArray, res.data])\n        setImage3(res.data.public_id)\n\n        const reader = new FileReader()\n        reader.onload = () => {\n            if (reader.readyState === 2) {\n                setImagesPreview3(reader.result)\n            }\n        }\n        reader.readAsDataURL(e.target.files[0])\n    }\n    const onChange4 = async e => {\n        const file = e.target.files[0]\n        if (!file) {\n            return alert.error('File not exist!')\n        }\n        if (file.type !== 'image/jpeg' && file.type !== 'image/jpg' && file.type !== 'image/png') {\n            return alert.error('File format is incorrect!')\n        }\n        if (file.size > 1024 * 1024 * 5) {\n            return alert.error('File too large!')\n        }\n\n\n        let formData = new FormData()\n        formData.append('file', file)\n\n        const res = await axios.post('/api/upload', formData, {\n            headers: { 'content-type': 'multipart/form-data' }\n        })\n        setImages(oldArray => [...oldArray, res.data])\n        setImage4(res.data.public_id)\n\n        const reader = new FileReader()\n        reader.onload = () => {\n            if (reader.readyState === 2) {\n                setImagesPreview4(reader.result)\n            }\n        }\n        reader.readAsDataURL(e.target.files[0])\n    }\n    const deleteImage = (index) => e => {\n        let newImages = [...oldImages]\n        newImages[index] = ''\n        setOldImages(newImages)\n        if (index === 0) {\n            setImages(images.filter(item => item.public_id !== image1))\n            setImage1('')\n        }\n        else if (index === 1) {\n            setImages(images.filter(item => item.public_id !== image2))\n            setImage2('')\n        }\n        else if (index === 2) {\n            setImages(images.filter(item => item.public_id !== image3))\n            setImage3('')\n        }\n        else if (index === 3) {\n            setImages(images.filter(item => item.public_id !== image4))\n            setImage4('')\n        }\n    }\n\n    return (\n        <Fragment>\n            <MetaData title={'Update Product'} />\n            <div className=\"row admin-products\">\n                <div className=\"col-12 col-md-2\">\n                    <Sidebar />\n                </div>\n\n                <div className=\"col-5 col-md-5\">\n                    <Fragment>\n                        <div className=\"my-4\">\n                            <h3>Update Product #{productId}</h3>\n                        </div>\n                        <div className=\"wrapper\">\n                            <form className=\"\" onSubmit={submitHandler} encType='multipart/form-data'>\n\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"name_field\">Name</label>\n                                    <input\n                                        type=\"text\"\n                                        id=\"name_field\"\n                                        className=\"form-control\"\n                                        value={name}\n                                        onChange={(e) => setName(e.target.value)}\n                                    />\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"col-6 col-md-6\">\n                                        <div className=\"form-group\">\n                                            <label htmlFor=\"price_field\">Price</label>\n                                            <input\n                                                type=\"number\"\n                                                id=\"price_field\"\n                                                className=\"form-control\"\n                                                value={price}\n                                                onChange={(e) => setPrice(e.target.value)}\n                                            />\n                                        </div>\n                                    </div>\n                                    <div className=\"col-6 col-md-6\">\n                                        <div className=\"form-group\">\n                                            <label htmlFor=\"stock_field\">Stock</label>\n                                            <input\n                                                type=\"number\"\n                                                id=\"stock_field\"\n                                                className=\"form-control\"\n                                                value={stock}\n                                                onChange={(e) => setStock(e.target.value)}\n                                                disabled\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"description_field\">Description</label>\n                                    <textarea className=\"form-control\" id=\"description_field\" rows=\"6\" value={description} onChange={(e) => setDescription(e.target.value)}></textarea>\n                                </div>\n\n                                <div className=\"row\">\n                                    <div className=\"col-6 col-md-6\">\n                                        <div className=\"form-group\">\n                                            <label htmlFor=\"category_field\">Category</label>\n                                            <select className=\"form-control\" id=\"category_field\" value={category} onChange={(e) => setCategory(e.target.value)}>\n                                                {categories.map(category => (\n                                                    <option key={category._id} value={category._id} >{category.name}</option>\n                                                ))}\n\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div className=\"col-6 col-md-6\">\n                                        <div className=\"form-group\">\n                                            <label htmlFor=\"brand_field\">Brand</label>\n                                            <select className=\"form-control\" id=\"brand_field\" value={brand} onChange={(e) => setBrand(e.target.value)}>\n                                                {brands.map(brand => (\n                                                    <option key={brand._id} value={brand._id} >{brand.name}</option>\n                                                ))}\n\n                                            </select>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <button\n                                    id=\"update_button\"\n                                    type=\"submit\"\n                                    className=\"btn btn-update btn-block\">\n                                    UPDATE\n                                </button>\n                            </form>\n                        </div>\n                    </Fragment>\n                </div>\n\n                <div className=\"col-5 col-md-5\">\n                    <div className=\"new-img\">\n                        <div className=\"row\">\n                            <div className=\"col-6 col-md-6 img-preview\">\n                                <img src={oldImages && oldImages[0] ? oldImages[0].url : imagesPreview1} alt=\"\" />\n                                <input\n                                    type='file'\n                                    name='avatar'\n                                    className='custom-file-input'\n                                    id='customFile'\n                                    accept='images/*'\n                                    onChange={onChange1}\n                                />\n                                <span className=\"delete-img\" id=\"delete1\" onClick={deleteImage(0)}>X</span>\n                            </div>\n                            <div className=\"col-6 col-md-6 img-preview\">\n                                <img src={oldImages && oldImages[1] ? oldImages[1].url : imagesPreview2} alt=\"\" />\n\n                                <input\n                                    type='file'\n                                    name='avatar'\n                                    className='custom-file-input'\n                                    id='customFile'\n                                    accept='images/*'\n                                    onChange={onChange2}\n                                />\n                                <span className=\"delete-img\" id=\"delete2\" onClick={deleteImage(1)}>X</span>\n\n                            </div>\n                            <div className=\"col-6 col-md-6 img-preview\">\n                                <img src={oldImages && oldImages[2] ? oldImages[2].url : imagesPreview3} alt=\"\" />\n\n                                <input\n                                    type='file'\n                                    name='avatar'\n                                    className='custom-file-input'\n                                    id='customFile'\n                                    accept='images/*'\n                                    onChange={onChange3}\n                                />\n                                <span className=\"delete-img\" id=\"delete3\" onClick={deleteImage(2)}>X</span>\n\n                            </div>\n                            <div className=\"col-6 col-md-6 img-preview\">\n                                <img src={oldImages && oldImages[3] ? oldImages[3].url : imagesPreview4} alt=\"\" />\n\n                                <input\n                                    type='file'\n                                    name='avatar'\n                                    className='custom-file-input'\n                                    id='customFile'\n                                    accept='images/*'\n                                    onChange={onChange4}\n                                />\n                                <span className=\"delete-img\" id=\"delete4\" onClick={deleteImage(3)}>X</span>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </Fragment>\n    )\n}\n\nexport default UpdateProduct\n"]},"metadata":{},"sourceType":"module"}